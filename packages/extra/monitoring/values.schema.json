{
  "title": "Chart Values",
  "type": "object",
  "properties": {
    "alerta": {
      "description": "Configuration for Alerta",
      "type": "object",
      "required": [
        "storage",
        "storageClassName"
      ],
      "properties": {
        "resources": {
          "description": "Resources configuration for alerta",
          "type": "object",
          "properties": {
            "limits": {
              "description": "Resources limits for alerta",
              "type": "object",
              "properties": {
                "cpu": {
                  "description": "CPU resources",
                  "type": "string",
                  "default": "100m",
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "x-kubernetes-int-or-string": true
                },
                "memory": {
                  "description": "Memory resources",
                  "type": "string",
                  "default": "256Mi",
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "x-kubernetes-int-or-string": true
                }
              }
            },
            "requests": {
              "description": "Resources requests for alerta",
              "type": "object",
              "properties": {
                "cpu": {
                  "description": "CPU resources",
                  "type": "string",
                  "default": "100m",
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "x-kubernetes-int-or-string": true
                },
                "memory": {
                  "description": "Memory resources",
                  "type": "string",
                  "default": "256Mi",
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "x-kubernetes-int-or-string": true
                }
              }
            }
          }
        },
        "storage": {
          "description": "Persistent Volume size for alerta database",
          "type": "string",
          "default": "10Gi"
        },
        "storageClassName": {
          "description": "StorageClass used to store the data",
          "type": "string"
        }
      }
    },
    "grafana": {
      "description": "Configuration for Grafana",
      "type": "object",
      "properties": {
        "resources": {
          "description": "Resources configuration for grafana",
          "type": "object",
          "properties": {
            "limits": {
              "description": "Resources limits for grafana",
              "type": "object",
              "properties": {
                "cpu": {
                  "description": "CPU resources",
                  "type": "string",
                  "default": "100m",
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "x-kubernetes-int-or-string": true
                },
                "memory": {
                  "description": "Memory resources",
                  "type": "string",
                  "default": "256Mi",
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "x-kubernetes-int-or-string": true
                }
              }
            },
            "requests": {
              "description": "Resources requests for grafana",
              "type": "object",
              "properties": {
                "cpu": {
                  "description": "CPU resources",
                  "type": "string",
                  "default": "100m",
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "x-kubernetes-int-or-string": true
                },
                "memory": {
                  "description": "Memory resources",
                  "type": "string",
                  "default": "256Mi",
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "x-kubernetes-int-or-string": true
                }
              }
            }
          }
        }
      }
    },
    "host": {
      "description": "The hostname used to access the grafana externally (defaults to 'grafana' subdomain for the tenant host).",
      "type": "string"
    },
    "logsStorages": {
      "description": "Configuration of logs storage instances",
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "name",
          "retentionPeriod",
          "storage"
        ],
        "properties": {
          "name": {
            "description": "Name of the storage instance",
            "type": "string"
          },
          "retentionPeriod": {
            "description": "Retention period for the logs in the storage instance",
            "type": "string"
          },
          "storage": {
            "description": "Persistent Volume size for the storage instance",
            "type": "string"
          },
          "storageClassName": {
            "description": "StorageClass used to store the data",
            "type": "string"
          }
        }
      }
    },
    "metricsStorages": {
      "description": "Configuration of metrics storage instances",
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "deduplicationInterval",
          "name",
          "retentionPeriod",
          "storage"
        ],
        "properties": {
          "deduplicationInterval": {
            "description": "Deduplication interval for the metrics in the storage instance",
            "type": "string"
          },
          "name": {
            "description": "Name of the storage instance",
            "type": "string"
          },
          "retentionPeriod": {
            "description": "Retention period for the metrics in the storage instance",
            "type": "string"
          },
          "storage": {
            "description": "Persistent Volume size for the storage instance",
            "type": "string"
          },
          "storageClassName": {
            "description": "StorageClass used to store the data",
            "type": "string"
          },
          "vminsert": {
            "description": "Configuration for vminsert component of the storage instance",
            "type": "object",
            "properties": {
              "maxAllowed": {
                "description": "Maximum allowed resources for vminsert component",
                "type": "object",
                "properties": {
                  "cpu": {
                    "description": "CPU resources",
                    "type": "string",
                    "default": "100m",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "x-kubernetes-int-or-string": true
                  },
                  "memory": {
                    "description": "Memory resources",
                    "type": "string",
                    "default": "256Mi",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "x-kubernetes-int-or-string": true
                  }
                }
              },
              "minAllowed": {
                "description": "Minimum allowed resources for vminsert component",
                "type": "object",
                "properties": {
                  "cpu": {
                    "description": "CPU resources",
                    "type": "string",
                    "default": "100m",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "x-kubernetes-int-or-string": true
                  },
                  "memory": {
                    "description": "Memory resources",
                    "type": "string",
                    "default": "256Mi",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "x-kubernetes-int-or-string": true
                  }
                }
              }
            }
          },
          "vmselect": {
            "description": "Configuration for vmselect component of the storage instance",
            "type": "object",
            "properties": {
              "maxAllowed": {
                "description": "Maximum allowed resources for vminsert component",
                "type": "object",
                "properties": {
                  "cpu": {
                    "description": "CPU resources",
                    "type": "string",
                    "default": "100m",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "x-kubernetes-int-or-string": true
                  },
                  "memory": {
                    "description": "Memory resources",
                    "type": "string",
                    "default": "256Mi",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "x-kubernetes-int-or-string": true
                  }
                }
              },
              "minAllowed": {
                "description": "Minimum allowed resources for vminsert component",
                "type": "object",
                "properties": {
                  "cpu": {
                    "description": "CPU resources",
                    "type": "string",
                    "default": "100m",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "x-kubernetes-int-or-string": true
                  },
                  "memory": {
                    "description": "Memory resources",
                    "type": "string",
                    "default": "256Mi",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "x-kubernetes-int-or-string": true
                  }
                }
              }
            }
          },
          "vmstorage": {
            "description": "Configuration for vmstorage component of the storage instance",
            "type": "object",
            "properties": {
              "maxAllowed": {
                "description": "Maximum allowed resources for vminsert component",
                "type": "object",
                "properties": {
                  "cpu": {
                    "description": "CPU resources",
                    "type": "string",
                    "default": "100m",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "x-kubernetes-int-or-string": true
                  },
                  "memory": {
                    "description": "Memory resources",
                    "type": "string",
                    "default": "256Mi",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "x-kubernetes-int-or-string": true
                  }
                }
              },
              "minAllowed": {
                "description": "Minimum allowed resources for vminsert component",
                "type": "object",
                "properties": {
                  "cpu": {
                    "description": "CPU resources",
                    "type": "string",
                    "default": "100m",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "x-kubernetes-int-or-string": true
                  },
                  "memory": {
                    "description": "Memory resources",
                    "type": "string",
                    "default": "256Mi",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "x-kubernetes-int-or-string": true
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
